## å¦‚ä½•å»ºç«‹ä¸€å€‹æ’ä»¶
é¦–å…ˆï¼Œåœ¨ `plugins` ç›®éŒ„å»ºç«‹ä¸€å€‹è³‡æ–™å¤¾ï¼Œåç¨±çˆ²ä½ çš„æ’ä»¶åç¨±ï¼Œ~~å¼·çƒˆå»ºè­°åŒæ­¥æ”¾ä¸ŠGitHub~~
```bash
cd plugins
# GitHub CLI
gh repo create æ’ä»¶çš„åå­—
# æˆ–è€…é¸æ“‡ä¸ç™¼ä½ˆ
mkdir æ’ä»¶çš„åå­—
```
ç„¶å¾Œï¼Œå‰µå»º `__init__.py`ï¼Œ åœ¨é ‚éƒ¨å¡é€™äº›ï¼š
```py
# -*- coding: utf-8 -*-

__author__ = "ä½ çš„ç¶²åæˆ–åå­—"
__version__ = "1.0.0" # ç‰ˆæœ¬è™Ÿï¼Œå»ºè­° 0.0.1 æˆ–è€… 1.0.0
__url__ = "https://example.com" # URLï¼Œå¦‚æœä¸æƒ³ç™¼ä½ˆå¯çœç•¥
__description__ = "Join repeat" # æ’ä»¶æè¿°
__dname__ = "æ’ä»¶çš„åå­—"

from telethon import events
# å¦‚æœéœ€è¦èª¿ç”¨å…¶ä»–åº«å¯ä»¥åœ¨é€™è£å®šç¾©
def setup(bot,storage):
    # ä¸»ä»£ç¢¼ï¼
```
### å¦‚ä½•å»ºç«‹ä¸»ä»£ç¢¼
åƒçœ‹[Telethon API](https://docs.telethon.dev)ï¼Œè£é¢çš„ `client` æˆ–è€… `bot` å°±æ˜¯ `def setup` æä¾›çš„é‚£å€‹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¾‹å­ï¼š
#### ç°¡å–®æŒ‡ä»¤
```py
@bot.on(events.NewMessage(pattern='/mycommand')) # mycommand == å‘½ä»¤åå­—
async def mycommand(event):
    await event.respond("ä½ å¥½ï¼Œä¸–ç•Œã€‚") # ä½¿ç”¨ event.respond åœ¨åŒä¸€å€‹èŠå¤©å®¤å›è¦†
raise events.StopPropagation # æ²’æœ‰å¿…è¦è®“å…¶ä»–æ’ä»¶ç¹¼çºŒè™•ç†é€™ä¸€æ¢ä¿¡æ¯ï¼ˆ
```
#### åˆ¥äººå–µæˆ‘ä¹Ÿå–µ
é¦–å…ˆï¼Œé€šé[@botfather](https://t.me/botfather)å°‡æ©Ÿå™¨äººçš„éš±ç§æ¨¡å¼é—œé–‰ã€‚
```py
@bot.on(events.NewMessage()) # åŒ¹é…æ‰€æœ‰ä¿¡æ¯
async def meou_reply(event):
    if "å–µ" in event.message.text: # å¦‚æœä¿¡æ¯è£æœ‰å–µ
        await event.respond("å–µï½") # é‚£éº¼æˆ‘å€‘ä¹Ÿå–µï½
```
#### å„²å­˜ç©ºé–“
`def setup` æä¾›äº†ä¸€å€‹ `storage`ï¼Œå°±æ˜¯å„²å­˜APIã€‚ä»¥ä¸‹ä¾‹å­æœƒå„²å­˜å®ƒæ‰€å¾—åˆ°çš„ä¿¡æ¯ï¼Œä¸¦åœ¨ `/text` æŒ‡ä»¤ä¸‹åå‡ºä¸Šä¸€æ¢ä¿¡æ¯ï¼š
```py
@bot.on(events.NewMessage(pattern='/text'))
async def text(event):
    last_text = storage.get("last_text","æ²’æœ‰ä¿¡æ¯å–µï½") # ç¬¬ä¸€å€‹åƒæ•¸ï¼šå„²å­˜éµï¼›ç¬¬äºŒå€‹åƒæ•¸ï¼šå¦‚æœæ‰¾ä¸åˆ°é‚£éº¼å›è¦†å•¥
    await event.respond(last_text) # åå‡ºå»
    raise events.StopPropagation # æ²’æœ‰å¿…è¦è®“ä¸‹é¢çš„ç¨‹åºç¹¼çºŒè™•ç†é€™ä¸€æ¢ä¿¡æ¯å–µï½

@bot.on(events.NewMessage()) # åŒ¹é…æ‰€æœ‰ä¿¡æ¯ï¼Œé™¤äº†/textï¼Œå› çˆ² events.StopPropagation
async def text_save(event):
    text = event.message.text # ç²å–ä¿¡æ¯å…§å®¹
    if text == None or text == "":
        return # ä¸å±‘ç©ºä¿¡æ¯
    storage.set("last_text",text) # ç¬¬ä¸€å€‹åƒæ•¸ï¼šå„²å­˜éµï¼›ç¬¬äºŒå€‹åƒæ•¸ï¼šå„²å­˜å€¼
    # ä¸await.respondï¼Œæˆ‘å€‘æš—ä¸­æ”¶é›†ä¿¡æ¯ğŸ¤ª
```
#### èª¿ç”¨è¨­å®šæª”æ¡ˆ
ç”±æ–¼è¨­å®šæª”åœ¨ `config.py`ï¼Œè€Œé–‹ç™¼è€…å·²ç¶“éå¸¸è²¼å¿ƒçš„æŠŠå°ˆæ¡ˆç›®éŒ„åŠ åˆ° `sys.path` ä¸­ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä»¥èª¿ç”¨åº«çš„æ–¹å¼èª¿ç”¨è¨­å®šæª”ï¼š
```py
import config
```
ä¹‹å¾Œå°±å¯ä»¥ä½¿ç”¨äº†ï¼š
```py
# ç²å– BOT TOKEN
print(config.bot_token)
# ä¹Ÿå¯ä»¥è‡ªå®šç¾©è¨­å®šå€¼ï¼Œä½†è¨˜å¾—æé†’ç¶­è­·è€…è¨­å®š
try:
    print(config.custom_whatever) # custom_whatever == è¨­å®šå€¼
except AttributeError:
    print("ä¸»äººï¼Œè¨˜å¾—è¨­å®š config.custom_whatever å“¦å–µï½") # è²·èŒæ›å–ä¸»äººæ³¨æ„ï¼ˆ
    raise # æœ€å¾Œæ’’å¬Œï¼ˆ
```
### éŒ¯èª¤è™•ç†
å¦‚åœ¨è¼‰å…¥æœŸé–“ç™¼ç”ŸéŒ¯èª¤ï¼Œç¨‹åºä¸¦ä¸æœƒè¢«ä¸­æ–·ï¼Œè€Œæ˜¯ç›´æ¥æš«æ™‚ç¦ç”¨æ’ä»¶ï¼Œè€Œä¸”æœƒåœ¨ `/plugslist` æŒ‡ä»¤é¡¯ç¤ºæ’ä»¶å‡ºéŒ¯ï¼Œä¾†æé†’å–µå–µä¸»äººæª¢æŸ¥å–µå–µèº«é«”ï¼š
```
example: ä¸ç®¡ï¼Œé€™å°±æ˜¯ä¸€å€‹ç¯„ä¾‹å–µï½
- By Emoji, ver. 1.0.0
- âŒ Error During Load Time
```
åŸºæ–¼Telethonç‰¹æ€§ï¼Œå¦‚æœåœ¨é‹è¡ŒæœŸé–“ï¼ˆä¾‹å¦‚åŸ·è¡ŒæŒ‡ä»¤æœŸé–“ï¼‰å‡ºéŒ¯ï¼Œåªæœƒåœ¨ä¸»æ§è‡ºä¸Ÿå‡ºéŒ¯èª¤ä¿¡æ¯ï¼Œè€Œä¸æœƒä¸­æ–·ç¨‹åºæˆ–è€…çµ¦äºˆä½¿ç”¨è€…ä»»ä½•ç•°å¸¸åé¥‹ï¼Œæ‰€ä»¥è¦ç›£çœ‹ä¸»æ§è‡ºçœ‹çœ‹æœ‰æ²’æœ‰å–µå–µåœ¨æ’’å¬Œæˆ–è€…å“€åšã€‚
### ç‰ˆæ¬Šå•é¡Œ
ç”±æ–¼ä¸»ç¨‹åºä½¿ç”¨äº†é«˜å‚³æŸ“æ€§çš„GPLï¼Œæ‰€ä»¥æ‰€æœ‰æ’ä»¶éƒ½æœƒè¢«å‚³æŸ“GPLï¼Œæˆ´å£ç½©ä¹Ÿæ²’æœ‰ç”¨å–µï½
### çµèª
åˆ°åº•æˆ‘ä»–åª½çš„å¹¹å˜›è¦åœ¨æ–‡æª”ä¸Šè²·èŒå•Šå–µï¼Ÿ
